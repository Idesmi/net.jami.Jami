name: qtbase
builddir: true
buildsystem: cmake-ninja
config-opts:
  - -DCMAKE_BUILD_TYPE=RelWithDebInfo
  - -DCMAKE_INSTALL_PREFIX=/app
  - -DINSTALL_BINDIR=lib/bin
  - -DINSTALL_PUBLICBINDIR=bin
  - -DINSTALL_LIBEXECDIR=libexec
  - -DINSTALL_ARCHDATADIR=lib
  - -DINSTALL_DATADIR=share
  - -DINSTALL_INCLUDEDIR=include
  - -DINSTALL_MKSPECSDIR=lib/mkspecs
  - -DQT_FEATURE_system_sqlite=ON
  - -DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON
  - -DBUILD_SHARED_LIBS=ON
  - -DQT_BUILD_TESTS=OFF
  - -DQT_BUILD_EXAMPLES=OFF
  - -DBUILD_WITH_PCH=OFF
  - -DINPUT_dbus=linked
  - -DFEATURE_accessibility=OFF
  - -DFEATURE_widgets=OFF
  - -DFEATURE_network=ON
  - -DFEATURE_printsupport=OFF
  - -DFEATURE_directfb=OFF
  - -DFEATURE_evdev=OFF
  - -DFEATURE_harfbuzz=OFF
  - -DFEATURE_ico=OFF
  - -DFEATURE_linuxfb=OFF
  - -DFEATURE_kms=OFF
  - -DFEATURE_xcb=OFF
  - -DFEATURE_xkbcommon=OFF
  - -DFEATURE_testlib=OFF
  - -DFEATURE_gif=OFF
sources:
  - type: archive
    url: https://download.qt.io/official_releases/qt/6.2/6.2.4/submodules/qtbase-everywhere-src-6.2.4.tar.xz
    sha256: d9924d6fd4fa5f8e24458c87f73ef3dfc1e7c9b877a5407c040d89e6736e2634
cleanup:
  - /bin
  - /lib/bin
  - /share
  - /libexec
