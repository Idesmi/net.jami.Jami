name: qtbase
buildsystem: cmake-ninja
config-opts:
  - -DCMAKE_INSTALL_PREFIX=/app
  - -DINSTALL_BINDIR=lib/bin
  - -DINSTALL_PUBLICBINDIR=bin
  - -DINSTALL_LIBEXECDIR=libexec
  - -DINSTALL_ARCHDATADIR=lib
  - -DINSTALL_DATADIR=share
  - -DINSTALL_INCLUDEDIR=include
  - -DINSTALL_MKSPECSDIR=lib/mkspecs
  - -DQT_FEATURE_system_sqlite=ON
  - -DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON
  - -DBUILD_SHARED_LIBS=ON
  - -DQT_BUILD_TESTS=OFF
  - -DQT_BUILD_EXAMPLES=OFF
  - -DBUILD_WITH_PCH=OFF
  #- -DINPUT_opengl=no
  - -DINPUT_dbus=linked
  - -DFEATURE_optimize_size=ON
  - -DFEATURE_accessibility=OFF
  - -DFEATURE_widgets=OFF
  - -DFEATURE_network=OFF
  - -DFEATURE_printsupport=OFF
  - -DFEATURE_directfb=OFF
  - -DFEATURE_evdev=OFF
  - -DFEATURE_harfbuzz=OFF
  - -DFEATURE_ico=OFF
  - -DFEATURE_linuxfb=OFF
  - -DFEATURE_kms=OFF
  - -DFEATURE_xcb=OFF
  - -DFEATURE_xkbcommon=OFF
  - -DFEATURE_testlib=OFF
  #- -DFEATURE_vulkan=OFF
  - -DFEATURE_gif=OFF
sources:
  - type: archive
    url: https://download.qt.io/official_releases/qt/6.2/6.2.3/submodules/qtbase-everywhere-src-6.2.3.tar.xz
    sha256: 34d6d0072e197241463c417ad72610c3d44e2efd6062868e9a95283103d75df4
cleanup:
  - /bin
  - /lib/bin
  - /share
  - /libexec
